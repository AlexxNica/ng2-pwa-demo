{"version":3,"file":"selector.js","sourceRoot":"","sources":["../../../../../modules/@angular/compiler/src/selector.ts"],"names":[],"mappings":"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","sourcesContent":["import {Map, ListWrapper} from '../src/facade/collection';\nimport {\n  isPresent,\n  isBlank,\n  RegExpWrapper,\n  RegExpMatcherWrapper,\n  StringWrapper\n} from '../src/facade/lang';\nimport {BaseException} from '../src/facade/exceptions';\n\nconst /** @type {?} */ _EMPTY_ATTR_VALUE = /*@ts2dart_const*/ '';\n\n// TODO: Can't use `const` here as\n// in Dart this is not transpiled into `final` yet...\nvar /** @type {?} */ _SELECTOR_REGEXP = RegExpWrapper.create(\n    '(\\\\:not\\\\()|' +                          //\":not(\"\n    '([-\\\\w]+)|' +                            // \"tag\"\n    '(?:\\\\.([-\\\\w]+))|' +                     // \".class\"\n    '(?:\\\\[([-\\\\w*]+)(?:=([^\\\\]]*))?\\\\])|' +  // \"[name]\", \"[name=value]\" or \"[name*=value]\"\n    '(\\\\))|' +                                // \")\"\n    '(\\\\s*,\\\\s*)');                           // \",\"\n\n/**\n * A css selector contains an element name,\n * css classes and attribute/value pairs with the purpose\n * of selecting subsets out of them.\n */\nexport class CssSelector {\n  element: string = null;\n  classNames: string[] = [];\n  attrs: string[] = [];\n  notSelectors: CssSelector[] = [];\n/**\n * @param {?} selector\n * @return {?}\n */\nstatic parse(selector: string): CssSelector[] {\n    var /** @type {?} */ results: CssSelector[] = [];\n    var /** @type {?} */ _addResult = (res: CssSelector[], cssSel) => {\n      if (cssSel.notSelectors.length > 0 && isBlank(cssSel.element) &&\n          ListWrapper.isEmpty(cssSel.classNames) && ListWrapper.isEmpty(cssSel.attrs)) {\n        cssSel.element = \"*\";\n      }\n      res.push(cssSel);\n    };\n    var /** @type {?} */ cssSelector = new CssSelector();\n    var /** @type {?} */ matcher = RegExpWrapper.matcher(_SELECTOR_REGEXP, selector);\n    var /** @type {?} */ match;\n    var /** @type {?} */ current = cssSelector;\n    var /** @type {?} */ inNot = false;\n    while (isPresent(match = RegExpMatcherWrapper.next(matcher))) {\n      if (isPresent(match[1])) {\n        if (inNot) {\n          throw new BaseException('Nesting :not is not allowed in a selector');\n        }\n        inNot = true;\n        current = new CssSelector();\n        cssSelector.notSelectors.push(current);\n      }\n      if (isPresent(match[2])) {\n        current.setElement(match[2]);\n      }\n      if (isPresent(match[3])) {\n        current.addClassName(match[3]);\n      }\n      if (isPresent(match[4])) {\n        current.addAttribute(match[4], match[5]);\n      }\n      if (isPresent(match[6])) {\n        inNot = false;\n        current = cssSelector;\n      }\n      if (isPresent(match[7])) {\n        if (inNot) {\n          throw new BaseException('Multiple selectors in :not are not supported');\n        }\n        _addResult(results, cssSelector);\n        cssSelector = current = new CssSelector();\n      }\n    }\n    _addResult(results, cssSelector);\n    return results;\n  }\n/**\n * @return {?}\n */\nisElementSelector(): boolean {\n    return isPresent(this.element) && ListWrapper.isEmpty(this.classNames) &&\n           ListWrapper.isEmpty(this.attrs) && this.notSelectors.length === 0;\n  }\n/**\n * @param {?=} element\n * @return {?}\n */\nsetElement(element: string = null) { this.element = element; }\n/**\n *  Gets a template string for an element that matches the selector.\n * @return {?}\n */\ngetMatchingElementTemplate(): string {\n    let /** @type {?} */ tagName = isPresent(this.element) ? this.element : 'div';\n    let /** @type {?} */ classAttr = this.classNames.length > 0 ? ` class=\"${this.classNames.join(' ')}\"` : '';\n\n    let /** @type {?} */ attrs = '';\n    for (let /** @type {?} */ i = 0; i < this.attrs.length; i += 2) {\n      let /** @type {?} */ attrName = this.attrs[i];\n      let /** @type {?} */ attrValue = this.attrs[i + 1] !== '' ? `=\"${this.attrs[i + 1]}\"` : '';\n      attrs += ` ${attrName}${attrValue}`;\n    }\n\n    return `<${tagName}${classAttr}${attrs}></${tagName}>`;\n  }\n/**\n * @param {?} name\n * @param {?=} value\n * @return {?}\n */\naddAttribute(name: string, value: string = _EMPTY_ATTR_VALUE) {\n    this.attrs.push(name);\n    if (isPresent(value)) {\n      value = value.toLowerCase();\n    } else {\n      value = _EMPTY_ATTR_VALUE;\n    }\n    this.attrs.push(value);\n  }\n/**\n * @param {?} name\n * @return {?}\n */\naddClassName(name: string) { this.classNames.push(name.toLowerCase()); }\n/**\n * @return {?}\n */\ntoString(): string {\n    var /** @type {?} */ res = '';\n    if (isPresent(this.element)) {\n      res += this.element;\n    }\n    if (isPresent(this.classNames)) {\n      for (var /** @type {?} */ i = 0; i < this.classNames.length; i++) {\n        res += '.' + this.classNames[i];\n      }\n    }\n    if (isPresent(this.attrs)) {\n      for (var /** @type {?} */ i = 0; i < this.attrs.length;) {\n        var /** @type {?} */ attrName = this.attrs[i++];\n        var /** @type {?} */ attrValue = this.attrs[i++];\n        res += '[' + attrName;\n        if (attrValue.length > 0) {\n          res += '=' + attrValue;\n        }\n        res += ']';\n      }\n    }\n    this.notSelectors.forEach(notSelector => res += `:not(${notSelector})`);\n    return res;\n  }\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nCssSelector.prototype.element;\n /** @type {?} */\nCssSelector.prototype.classNames;\n /** @type {?} */\nCssSelector.prototype.attrs;\n /** @type {?} */\nCssSelector.prototype.notSelectors;\n  }\n\n}\n\n/**\n * Reads a list of CssSelectors and allows to calculate which ones\n * are contained in a given CssSelector.\n */\nexport class SelectorMatcher {\n/**\n * @param {?} notSelectors\n * @return {?}\n */\nstatic createNotMatcher(notSelectors: CssSelector[]): SelectorMatcher {\n    var /** @type {?} */ notMatcher = new SelectorMatcher();\n    notMatcher.addSelectables(notSelectors, null);\n    return notMatcher;\n  }\nprivate _elementMap = new Map<string, SelectorContext[]>();\nprivate _elementPartialMap = new Map<string, SelectorMatcher>();\nprivate _classMap = new Map<string, SelectorContext[]>();\nprivate _classPartialMap = new Map<string, SelectorMatcher>();\nprivate _attrValueMap = new Map<string, Map<string, SelectorContext[]>>();\nprivate _attrValuePartialMap = new Map<string, Map<string, SelectorMatcher>>();\nprivate _listContexts: SelectorListContext[] = [];\n/**\n * @param {?} cssSelectors\n * @param {?=} callbackCtxt\n * @return {?}\n */\naddSelectables(cssSelectors: CssSelector[], callbackCtxt?: any) {\n    var /** @type {?} */ listContext = null;\n    if (cssSelectors.length > 1) {\n      listContext = new SelectorListContext(cssSelectors);\n      this._listContexts.push(listContext);\n    }\n    for (var /** @type {?} */ i = 0; i < cssSelectors.length; i++) {\n      this._addSelectable(cssSelectors[i], callbackCtxt, listContext);\n    }\n  }\n/**\n *  Add an object that can be found later on by calling `match`.\n * @param {?} cssSelector A css selector\n * @param {?} callbackCtxt An opaque object that will be given to the callback of the `match` function\n * @param {?} listContext\n * @return {?}\n */\nprivate _addSelectable(cssSelector: CssSelector, callbackCtxt: any,\n                         listContext: SelectorListContext) {\n    var /** @type {?} */ matcher: SelectorMatcher = this;\n    var /** @type {?} */ element = cssSelector.element;\n    var /** @type {?} */ classNames = cssSelector.classNames;\n    var /** @type {?} */ attrs = cssSelector.attrs;\n    var /** @type {?} */ selectable = new SelectorContext(cssSelector, callbackCtxt, listContext);\n\n    if (isPresent(element)) {\n      var /** @type {?} */ isTerminal = attrs.length === 0 && classNames.length === 0;\n      if (isTerminal) {\n        this._addTerminal(matcher._elementMap, element, selectable);\n      } else {\n        matcher = this._addPartial(matcher._elementPartialMap, element);\n      }\n    }\n\n    if (isPresent(classNames)) {\n      for (var /** @type {?} */ index = 0; index < classNames.length; index++) {\n        var /** @type {?} */ isTerminal = attrs.length === 0 && index === classNames.length - 1;\n        var /** @type {?} */ className = classNames[index];\n        if (isTerminal) {\n          this._addTerminal(matcher._classMap, className, selectable);\n        } else {\n          matcher = this._addPartial(matcher._classPartialMap, className);\n        }\n      }\n    }\n\n    if (isPresent(attrs)) {\n      for (var /** @type {?} */ index = 0; index < attrs.length;) {\n        var /** @type {?} */ isTerminal = index === attrs.length - 2;\n        var /** @type {?} */ attrName = attrs[index++];\n        var /** @type {?} */ attrValue = attrs[index++];\n        if (isTerminal) {\n          var /** @type {?} */ terminalMap = matcher._attrValueMap;\n          var /** @type {?} */ terminalValuesMap = terminalMap.get(attrName);\n          if (isBlank(terminalValuesMap)) {\n            terminalValuesMap = new Map<string, SelectorContext[]>();\n            terminalMap.set(attrName, terminalValuesMap);\n          }\n          this._addTerminal(terminalValuesMap, attrValue, selectable);\n        } else {\n          var /** @type {?} */ parttialMap = matcher._attrValuePartialMap;\n          var /** @type {?} */ partialValuesMap = parttialMap.get(attrName);\n          if (isBlank(partialValuesMap)) {\n            partialValuesMap = new Map<string, SelectorMatcher>();\n            parttialMap.set(attrName, partialValuesMap);\n          }\n          matcher = this._addPartial(partialValuesMap, attrValue);\n        }\n      }\n    }\n  }\n/**\n * @param {?} map\n * @param {?} name\n * @param {?} selectable\n * @return {?}\n */\nprivate _addTerminal(map: Map<string, SelectorContext[]>, name: string,\n                       selectable: SelectorContext) {\n    var /** @type {?} */ terminalList = map.get(name);\n    if (isBlank(terminalList)) {\n      terminalList = [];\n      map.set(name, terminalList);\n    }\n    terminalList.push(selectable);\n  }\n/**\n * @param {?} map\n * @param {?} name\n * @return {?}\n */\nprivate _addPartial(map: Map<string, SelectorMatcher>, name: string): SelectorMatcher {\n    var /** @type {?} */ matcher = map.get(name);\n    if (isBlank(matcher)) {\n      matcher = new SelectorMatcher();\n      map.set(name, matcher);\n    }\n    return matcher;\n  }\n/**\n *  Find the objects that have been added via `addSelectable` whose css selector is contained in the given css selector.\n * @param {?} cssSelector A css selector\n * @param {?} matchedCallback This callback will be called with the object handed into `addSelectable`\n * @return {?} boolean true if a match was found\n */\nmatch(cssSelector: CssSelector, matchedCallback: (c: CssSelector, a: any) => void): boolean {\n    var /** @type {?} */ result = false;\n    var /** @type {?} */ element = cssSelector.element;\n    var /** @type {?} */ classNames = cssSelector.classNames;\n    var /** @type {?} */ attrs = cssSelector.attrs;\n\n    for (var /** @type {?} */ i = 0; i < this._listContexts.length; i++) {\n      this._listContexts[i].alreadyMatched = false;\n    }\n\n    result = this._matchTerminal(this._elementMap, element, cssSelector, matchedCallback) || result;\n    result = this._matchPartial(this._elementPartialMap, element, cssSelector, matchedCallback) ||\n             result;\n\n    if (isPresent(classNames)) {\n      for (var /** @type {?} */ index = 0; index < classNames.length; index++) {\n        var /** @type {?} */ className = classNames[index];\n        result =\n            this._matchTerminal(this._classMap, className, cssSelector, matchedCallback) || result;\n        result =\n            this._matchPartial(this._classPartialMap, className, cssSelector, matchedCallback) ||\n            result;\n      }\n    }\n\n    if (isPresent(attrs)) {\n      for (var /** @type {?} */ index = 0; index < attrs.length;) {\n        var /** @type {?} */ attrName = attrs[index++];\n        var /** @type {?} */ attrValue = attrs[index++];\n\n        var /** @type {?} */ terminalValuesMap = this._attrValueMap.get(attrName);\n        if (!StringWrapper.equals(attrValue, _EMPTY_ATTR_VALUE)) {\n          result = this._matchTerminal(terminalValuesMap, _EMPTY_ATTR_VALUE, cssSelector,\n                                       matchedCallback) ||\n                   result;\n        }\n        result = this._matchTerminal(terminalValuesMap, attrValue, cssSelector, matchedCallback) ||\n                 result;\n\n        var /** @type {?} */ partialValuesMap = this._attrValuePartialMap.get(attrName);\n        if (!StringWrapper.equals(attrValue, _EMPTY_ATTR_VALUE)) {\n          result = this._matchPartial(partialValuesMap, _EMPTY_ATTR_VALUE, cssSelector,\n                                      matchedCallback) ||\n                   result;\n        }\n        result =\n            this._matchPartial(partialValuesMap, attrValue, cssSelector, matchedCallback) || result;\n      }\n    }\n    return result;\n  }\n/**\n * @internal\n * @param {?} map\n * @param {?} name\n * @param {?} cssSelector\n * @param {?} matchedCallback\n * @return {?}\n */\n_matchTerminal(map: Map<string, SelectorContext[]>, name, cssSelector: CssSelector,\n                 matchedCallback: (c: CssSelector, a: any) => void): boolean {\n    if (isBlank(map) || isBlank(name)) {\n      return false;\n    }\n\n    var /** @type {?} */ selectables = map.get(name);\n    var /** @type {?} */ starSelectables = map.get(\"*\");\n    if (isPresent(starSelectables)) {\n      selectables = selectables.concat(starSelectables);\n    }\n    if (isBlank(selectables)) {\n      return false;\n    }\n    var /** @type {?} */ selectable;\n    var /** @type {?} */ result = false;\n    for (var /** @type {?} */ index = 0; index < selectables.length; index++) {\n      selectable = selectables[index];\n      result = selectable.finalize(cssSelector, matchedCallback) || result;\n    }\n    return result;\n  }\n/**\n * @internal\n * @param {?} map\n * @param {?} name\n * @param {?} cssSelector\n * @param {?} matchedCallback\n * @return {?}\n */\n_matchPartial(map: Map<string, SelectorMatcher>, name, cssSelector: CssSelector,\n                matchedCallback /*: (c: CssSelector, a: any) => void*/): boolean {\n    if (isBlank(map) || isBlank(name)) {\n      return false;\n    }\n    var /** @type {?} */ nestedSelector = map.get(name);\n    if (isBlank(nestedSelector)) {\n      return false;\n    }\n    // TODO(perf): get rid of recursion and measure again\n    // TODO(perf): don't pass the whole selector into the recursion,\n    // but only the not processed parts\n    return nestedSelector.match(cssSelector, matchedCallback);\n  }\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nSelectorMatcher.prototype._elementMap;\n /** @type {?} */\nSelectorMatcher.prototype._elementPartialMap;\n /** @type {?} */\nSelectorMatcher.prototype._classMap;\n /** @type {?} */\nSelectorMatcher.prototype._classPartialMap;\n /** @type {?} */\nSelectorMatcher.prototype._attrValueMap;\n /** @type {?} */\nSelectorMatcher.prototype._attrValuePartialMap;\n /** @type {?} */\nSelectorMatcher.prototype._listContexts;\n  }\n\n}\n\n\nexport class SelectorListContext {\n  alreadyMatched: boolean = false;\n/**\n * @param {?} selectors\n */\nconstructor(public selectors: CssSelector[]) {}\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nSelectorListContext.prototype.alreadyMatched;\n /** @type {?} */\nSelectorListContext.prototype.selectors;\n  }\n\n}\n\n// Store context to pass back selector and context when a selector is matched\nexport class SelectorContext {\n  notSelectors: CssSelector[];\n/**\n * @param {?} selector\n * @param {?} cbContext\n * @param {?} listContext\n */\nconstructor(public selector: CssSelector,\npublic cbContext: any,\npublic listContext: SelectorListContext) {\n    this.notSelectors = selector.notSelectors;\n  }\n/**\n * @param {?} cssSelector\n * @param {?} callback\n * @return {?}\n */\nfinalize(cssSelector: CssSelector, callback: (c: CssSelector, a: any) => void): boolean {\n    var /** @type {?} */ result = true;\n    if (this.notSelectors.length > 0 &&\n        (isBlank(this.listContext) || !this.listContext.alreadyMatched)) {\n      var /** @type {?} */ notMatcher = SelectorMatcher.createNotMatcher(this.notSelectors);\n      result = !notMatcher.match(cssSelector, null);\n    }\n    if (result && isPresent(callback) &&\n        (isBlank(this.listContext) || !this.listContext.alreadyMatched)) {\n      if (isPresent(this.listContext)) {\n        this.listContext.alreadyMatched = true;\n      }\n      callback(this.selector, this.cbContext);\n    }\n    return result;\n  }\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nSelectorContext.prototype.notSelectors;\n /** @type {?} */\nSelectorContext.prototype.selector;\n /** @type {?} */\nSelectorContext.prototype.cbContext;\n /** @type {?} */\nSelectorContext.prototype.listContext;\n  }\n\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}