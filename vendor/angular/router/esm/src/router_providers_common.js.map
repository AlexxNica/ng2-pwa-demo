{"version":3,"file":"router_providers_common.js","sourceRoot":"","sources":["../../../../../modules/@angular/router/src/router_providers_common.ts"],"names":[],"mappings":";AAAA,uBAA6C,eAAe,CAAC,CAAA;AAC7D,yBAA+D,iBAAiB,CAAC,CAAA;AACjF,yBAAsC,UAAU,CAAC,CAAA;AACjD,2BAA2B,YAAY,CAAC,CAAA;AACxC,wCAA8D,yBAAyB,CAAC,CAAA;AACxF,uBAA6B,eAAe,CAAC,CAAA;AAC7C,uBAA4B,eAAe,CAAC,CAAA;AAE5C;;GAEG;AAC2B,+BAAuB,GAA4B;IAC/E,wBAAe;IACf,qBAAqB,CAAC,EAAC,OAAO,EAAE,2CAAmB,EAAE,QAAQ,EAAE,kDAA0B,EAAC;IAC1F,qBAAqB,CAAC,EAAC,OAAO,EAAE,yBAAgB,EAAE,QAAQ,EAAE,6BAAoB,EAAC,EAAE,iBAAQ;IAC3F,qBAAqB,CAAC;QACpB,OAAO,EAAE,eAAM;QACf,UAAU,EAAE,aAAa;QACzB,IAAI,EAAE,kBAAkB,CACpB,CAAC,qBAAc,EAAE,wBAAiB,EAAE,2CAAmB,EAAE,wBAAe,EAAE,iBAAQ,CAAC;KACxF;IACD,qBAAqB,CAAC,EAAC,OAAO,EAAE,uBAAY,EAAE,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,eAAM,CAAC,EAAC;CACnG,CAAC;AACF;;;;;;;GAOG;AACH,uBAAuB,GAAmB,EAAE,iBAAoC,EACzD,aAAkC,EAAE,eAAgC,EACpE,QAAkB;IACvC,EAAE,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,MAAM,IAAI,oBAAa,CAAC,2DAA2D,CAAC,CAAC;IACvF,CAAC;IACD,wCAAwC;IACxC,IAAI,gBAAgB,CAAC,MAAM,GAAG,IAAI,eAAM,CAAC,IAAI,EAAE,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,iBAAiB,EAAE,aAAa,EAC9E,eAAe,EAAE,QAAQ,CAAC,CAAC;IACnD,GAAG,CAAC,uBAAuB,CAAC,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;IACpD,MAAM,CAAC,MAAM,CAAC;AAChB,CAAC","sourcesContent":["import {OpaqueToken, ComponentResolver} from '@angular/core';\nimport {LocationStrategy, PathLocationStrategy, Location} from '@angular/common';\nimport {Router, RouterOutletMap} from './router';\nimport {RouteSegment} from './segments';\nimport {RouterUrlSerializer, DefaultRouterUrlSerializer} from './router_url_serializer';\nimport {ApplicationRef} from '@angular/core';\nimport {BaseException} from '@angular/core';\n\n/**\n * The Platform agnostic ROUTER PROVIDERS\n */\nexport const /** @type {?} */ ROUTER_PROVIDERS_COMMON: any[] = /*@ts2dart_const*/[\n  RouterOutletMap,\n  /*@ts2dart_Provider*/ {provide: RouterUrlSerializer, useClass: DefaultRouterUrlSerializer},\n  /*@ts2dart_Provider*/ {provide: LocationStrategy, useClass: PathLocationStrategy}, Location,\n  /*@ts2dart_Provider*/ {\n    provide: Router,\n    useFactory: routerFactory,\n    deps: /*@ts2dart_const*/\n        [ApplicationRef, ComponentResolver, RouterUrlSerializer, RouterOutletMap, Location],\n  },\n  /*@ts2dart_Provider*/ {provide: RouteSegment, useFactory: (r) => r.routeTree.root, deps: [Router]}\n];\n/**\n * @param {?} app\n * @param {?} componentResolver\n * @param {?} urlSerializer\n * @param {?} routerOutletMap\n * @param {?} location\n * @return {?}\n */\nfunction routerFactory(app: ApplicationRef, componentResolver: ComponentResolver,\n                       urlSerializer: RouterUrlSerializer, routerOutletMap: RouterOutletMap,\n                       location: Location): Router {\n  if (app.componentTypes.length == 0) {\n    throw new BaseException(\"Bootstrap at least one component before injecting Router.\");\n  }\n  // TODO: vsavkin this should not be null\n  let /** @type {?} */ router = new Router(null, app.componentTypes[0], componentResolver, urlSerializer,\n                          routerOutletMap, location);\n  app.registerDisposeListener(() => router.dispose());\n  return router;\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}