{"version":3,"file":"hash_location_strategy.js","sourceRoot":"","sources":["../../../../../../modules/@angular/common/src/location/hash_location_strategy.ts"],"names":[],"mappings":"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","sourcesContent":["import {Injectable, Inject, Optional} from '@angular/core';\nimport {isPresent} from '../../src/facade/lang';\n\nimport {LocationStrategy, APP_BASE_HREF} from './location_strategy';\nimport {Location} from './location';\nimport {UrlChangeListener, PlatformLocation} from './platform_location';\nexport class HashLocationStrategy extends LocationStrategy {\nprivate _baseHref: string = '';\n/**\n * @param {?} _platformLocation\n * @param {?=} _baseHref\n */\nconstructor(private _platformLocation: PlatformLocation, _baseHref?: string) {\n    super();\n    if (isPresent(_baseHref)) {\n      this._baseHref = _baseHref;\n    }\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonPopState(fn: UrlChangeListener): void {\n    this._platformLocation.onPopState(fn);\n    this._platformLocation.onHashChange(fn);\n  }\n/**\n * @return {?}\n */\ngetBaseHref(): string { return this._baseHref; }\n/**\n * @return {?}\n */\npath(): string {\n    // the hash value is always prefixed with a `#`\n    // and if it is empty then it will stay empty\n    var /** @type {?} */ path = this._platformLocation.hash;\n    if (!isPresent(path)) path = '#';\n\n    // Dart will complain if a call to substring is\n    // executed with a position value that extends the\n    // length of string.\n    return (path.length > 0 ? path.substring(1) : path);\n  }\n/**\n * @param {?} internal\n * @return {?}\n */\nprepareExternalUrl(internal: string): string {\n    var /** @type {?} */ url = Location.joinWithSlash(this._baseHref, internal);\n    return url.length > 0 ? ('#' + url) : url;\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} path\n * @param {?} queryParams\n * @return {?}\n */\npushState(state: any, title: string, path: string, queryParams: string) {\n    var /** @type {?} */ url = this.prepareExternalUrl(path + Location.normalizeQueryParams(queryParams));\n    if (url.length == 0) {\n      url = this._platformLocation.pathname;\n    }\n    this._platformLocation.pushState(state, title, url);\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} path\n * @param {?} queryParams\n * @return {?}\n */\nreplaceState(state: any, title: string, path: string, queryParams: string) {\n    var /** @type {?} */ url = this.prepareExternalUrl(path + Location.normalizeQueryParams(queryParams));\n    if (url.length == 0) {\n      url = this._platformLocation.pathname;\n    }\n    this._platformLocation.replaceState(state, title, url);\n  }\n/**\n * @return {?}\n */\nforward(): void { this._platformLocation.forward(); }\n/**\n * @return {?}\n */\nback(): void { this._platformLocation.back(); }\n\n  static _tsickle_typeAnnotationsHelper() {\n /** @type {?} */\nHashLocationStrategy.prototype._baseHref;\n /** @type {?} */\nHashLocationStrategy.prototype._platformLocation;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */ static ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: PlatformLocation, },\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APP_BASE_HREF, ] }, ]},\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}